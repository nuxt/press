---
sidebarSkipLevel: 1
---

# Guide

**NuxtPress** is a microframework that leverages the [Nuxt module system][1].

It will automatically **register routes**, **templates** and **configuration options** in your Nuxt application. It also takes care of **loading Markdown files** and making **pre-rendered static files** automatically available.

[1]: https://nuxtjs.org/guide/modules/

## Setup

Install via [npm](http://npmjs.com) or [yarn](https://yarnpkg.com/):

```shell
$ npm install nuxt @nuxt/press
$ yarn add nuxt @nuxt/press
```

Note that you must also install [Nuxt][nuxt] if you haven't already.

[nuxt]: https://nuxtjs.org

## Configuration

First, **NuxtPress** needs to be enabled via `nuxt.config.js`:

```js
export default {
  modules: ['@nuxt/press']
}
```

> In a freshly started project, `npm install` (or `yarn add`) will automatically create that `nuxt.config.js` file for you if you haven't already.

### Default mode

The above `nuxt.config.js` file would set NuxtPress to run in its **default mode**, which enables support for Markdown `pages/`, and automatic full static `nuxt generate` for them.

In **default mode**, bundled apps can also be enabled based on the presence of the `docs/`, `blog/` and `slides/` directories. The URL prefix for each bundled app matches these directories, .e.g, blog will be able available at `/blog`.

### Standalone mode

Alternatively, you can also do:

```js
export default {
  modules: [
    ['@nuxt/press', '<mode>']
  ]
}
```

This would set NuxtPress to run in **docs standalone mode**:

```js
export default {
  modules: [
    ['@nuxt/press', 'docs']
  ]
}
```

In docs standalone mode, there's no URL prefix, so here docs will be available at `/`, not `/docs`, and Markdown files can be placed directly on `<srcDir`>.

Standalone mode works similarly for `blog` and `slides`, as will be shown later.

### On nuxt.press.json

With the exception of the single string parameter that can be passed directly via `nuxt.config.js` (enabling **standalone mode** for any of the available bundled apps), all NuxtPress configuration must take place in either `nuxt.press.json` or `nuxt.press.js`. The JSON variant of the config is automatically generated the first time you run Nuxt with NuxtPress. If you decide to use `nuxt.press.js` instead (with a `default` export), `nuxt.press.json` is ignored.


The `nuxt.press.json` file autogenerated for [this documentation][docs-source] can be seen below. The `nav` key is initially empty and must be filled out.

[docs-source]: https://github.com/nuxt/press/tree/master/demo/docs

```json
{
  "docs": {
    "dir": "docs",
    "prefix": "/",
    "title": "NuxtPress documentation",
    "nav": [
      { "Home": "/" },
      { "Internals": "/internals" },
      { "GitHub": "https://github.com/nuxt/press" }
    ],
    "sidebar": [
      "/",
      "/guide"
    ]
  }
}
```

### Deployment

Follow [Nuxt's guide](https://nuxtjs.org/guide/commands/) for all deployment details.

NuxtPress is tested with static builds ([`nuxt generate`](https://nuxtjs.org/api/configuration-generate/).) and live builds (`universal` mode).

Nuxt's `spa` mode support is **not fully tested yet** (as of **0.1-beta.4**).

## Markdown pages

At its core, **NuxtPress** enables you to use Markdown files as [Nuxt pages][np]:

[np]: https://nuxtjs.org/guide/views/#pages

<table>
<tr>
<td><code>pages/index.md</code></td>
<td><code>/</code></td>
</tr>
<tr>
<td><code>pages/foo/index.md</code></td>
<td><code>/foo</code></td>
</tr>
<tr>
<td><code>pages/foo/bar.md</code></td>
<td><code>/foo/bar</code></td>
</tr>
</table>

Not only will NuxtPress transform Markdown files into working routes, it will also parse YAML metadata via [gray-matter][gm], if available.

[gm]: https://github.com/jonschlinkert/gray-matter

Here's a snippet from [`examples/pages`][pages-example]:

[pages-example]: https://github.com/nuxt/press/tree/master/examples/pages

```md
---
someText: hey, this works
someOtherText: hey, this works too
---

### Hello world

Go to [/subpage](/subpage)

Go to [/subpage/other](/subpage/other)

Msg: {{ $press.source.someText }}

Msg: **{{ $press.source.someOtherText }}**
```

You can also use the YAML metadata to specify the [Nuxt layout][nlayout]:

[nlayout]: https://nuxtjs.org/api/pages-layout/

```md
---
layout: yourLayout
---
```

### The common bundle

NuxtPress makes this possible by adding the `common` app bundle to your Nuxt app. This bundle will register a middleware that will automaticaly retrieve JSON sources for every requested route. Once a source request is detected and loaded, it's passed on to the [press source route](https://github.com/nuxt/press/blob/master/src/blueprints/common/templates/pages/source.vue). This is the source route registered for this documentation suite, which has i18n enabled:

```js
{
  path: "/:locale/:source(.*)",
  component: _e1c6a3e4,
  name: "source-locale"
}
```

Later in this guide you'll learn how to completely **eject** the [source code for the `common` bundle](https://github.com/nuxt/press/tree/master/src/blueprints/common), which can give you complete control over how NuxtPress works in any given Nuxt app.

### Learning internals

See the [introductory blog post](https://hire.jonasgalvez.com.br/2019/aug/19/the-story-of-nuxtpress/) to learn about the architectural decisions that are behind NuxtPress, including **_blueprint modules_** which are the mechanism used to register its built-in apps.

Contributing is extremely easy, just pull the [nuxt/press repository](https://github.com/nuxt/press), install NPM dependencies and use the `dev` script to test your changes directly in the bundled examples. If you change something in `src/blueprints/blog`, you'll want to test with your changes with:

```shell
$ npm run dev examples/blog
```

## Beyond pages

Before we move on, keep in mind that **NuxtPress** can be added to and seamlessly extend any existing Nuxt application.

**A NuxtPress app is a Nuxt app**. As long as it's the last enabled module, it won't interfere with existing functionality.

In **default mode**, in addition to now being able to add Markdown files directly to `pages/`, **you have three new route folders to work with**: **`docs/`**, **`blog/`** and **`slides/`**.  The presence of any of these directories in the **`srcDir`** of a Nuxt project will enable their corresponding NuxtPress modes.

You can customize these directories as follows:

```json
{
  "docs": {
    "dir": "my-custom-docs-dir"
  },
  "blog": {
    "dir": "my-custom-blog-dir"
  },
  "slides": {
    "dir": "my-custom-slides-dir"
  }
}
```

> You can run multiple NuxtPress modes in the same Nuxt app.

## Standalone mode

You've seen briefly how to specify which bundled app should be loaded by passing a mode parameter to the `@nuxt/press` definition in `nuxt.config.js`.

**Standalone mode** basically tells NuxtPress two things:  you're only using **one of the available bundled apps** and the URL prefix for  the URLs generated by the app bundle **should be `/`**, i.e., mixed with those that result from files being placed under the `pages/` directory.

That means if you're running `blog` in **standalone mode**:

```js
export default {
  modules: [
    ['@nuxt/press', 'blog']
  ]
}
```

And you have a `pages/index.vue` file, that is effectively overriding the index blog view. On the other hand, if you have `pages/about.md`, that will be available as `/about` and the blog index will be available at `/`.

Depending on the standalone mode you choose, Markdown files are searched for in different directories, as detailed below:

Standalone mode | Lookup directories
--------------- | ----------------------------------------
`docs`          | `<srcDir>` **or** `<srcDir>/docs`
`blog`          | `<srcDir>/entries` **or** `<srcDir>/posts`
`slides`        | `<srcDir>` **or** `<srcDir>/slides`

You can also set the standalone app via `nuxt.press.json`:

```json
{
  "mode": "slides"
}
```

Or via `nuxt.press.js`:

```js
export default {
  mode: 'slides'
}
```

## Publishing blogs

You can structure Markdown files for the blog mode (under the configured lookup directory) in however many subdirectories you want (for grouping posts by year of publication for, for instance). What determines the publishing date of each blog entry is actually their Markdown source header.

By default, NuxtPress uses a simple format where the first line is parsed out as the publication date. **Titles** and **slugs** are automatically generated from the first heading (`#`) of your Markdown sources:

```
June 20, 2019

# Blog Entry's Title

```

If your Markdown sources however start with a `---`, NuxtPress will try and parse it via [gray-matter][gm] and will look for `title`, `slug` and `date`.

[gm]: https://github.com/jonschlinkert/gray-matter

```markup
---
title: Blog Entry's Title
date: June 20, 2019
slug: blog-entry-slug
---

# This Heading Is Not Used As Title

```

### Adding sidebar links

NuxtPress' default blog template makes it easy to automatically include sidebar text links.

Here's `nuxt.press.json` from [`examples/blog`][examples-blog].

[examples-blog]:  https://github.com/nuxt/press/tree/master/examples/blog

```json
{
  "blog": {
    "links": [
      {"Home": "/blog"},
      {"Archive": "/blog/archive"},
      {"About": "/blog/about"},
    ]
  }
}
```

This feature is mostly illustrative. You're likely to benefit more from ejecting the entire app bundle and adding your code for the `sidebar` component. Your component can still have access to these options you define under the `blog` configuration key in `nuxt.press.json` or `nuxt.press.js`, making it extremely to customize templates even with your own configuration options.

## Publishing docs

The docs mode of NuxtPress provides similar functionality as VuePress. NuxtPress even borrows config syntax and some components from VuePress. Although NuxtPress aims to provide similar functionality its not meant to be a one to one replacement (just a very close one).

### Multiple docs for a single Nuxt project

NuxtPress docs support multiple docs configurations for a single Nuxt.js project. Use either the default `docs` key in your `nuxt.press.json` or use any other and specifify `blueprint: 'docs'` in your config:

```json
{
  "docs": {
    "prefix": "/docs-current",
    "dir": "/docs-v1"
  },
  "docs2": {
    "blueprint": "docs",
    "prefix": "/docs-next",
    "dir": "/docs-v2"
  }
}
```
### Multiple directories

You can also specify an array of directories, then markdown files from all these folders will be loaded

```json
{
  "docs": {
    "dir": [
      "/docs-v1",
      "/api-docs-v1"
  }
}
```

> Please note: if the folders contain similar paths then the path from the last folder listed will overwrite the previous one

### Directory aliasing

By default the paths within the dir you configure are prefixed with the configured prefix, that will be the path from which the markdown page will be reachable.

If you specifiy `dir` as an object you can specifiy the dir to load pages from as the key, and an alias for that folder as value:

```
{
  "docs": {
    "prefix": /"
    "dir": {
      "docs-v1": "docs-current",
      "docs-v1": "docs-next",
    }
  },
}

```

The above will result in the same paths as the split configs in the `Multiple docs for a single Nuxt project` example. The difference being that the config using directory aliasing shares sidebar and nav configs, which might or might not be what you want.

### Path prefix

As you saw before, the URL prefix is automatically determined by whether you're running docs mode in NuxtPress standalone or default mode (`/` vs `/docs`).  You can override this by manually setting `docs.prefix` in the configuration:


```json
{
  "docs": {
    "prefix": "/custom-docs-prefix/"
  }
}
```

NuxtPress has full support for Markdown via [`@nuxt/markdown`](https://github.com/nuxt/markdown).

### Home page

NuxtPress will automatically detect the presence of a **`README.md`** file or an **`index.md`** file in the configured lookup directory and make that the *introductory page* of your docs suite.

NuxtPress provides a default home page layout similar to VuePress which can be configured by a YAML meta data section in your markdown index.

```yaml
---
home: true
heroImage: /hero.png
actionText: Get Started →
actionLink: /guide/
features:
- title: Simplicity First
  details: Minimal setup with markdown-centered project structure helps you focus on writing.
- title: Nuxt-Powered
  details: Enjoy the dev experience of Nuxt.js and Vue
- title: Performant
  details: Because Nuxt.js
footer: MIT Licensed
---
```

All additional markdown content will be rendered after the features sections (but before the footer).

### Internationalization

NuxtPress includes limited support to **i18n** via [nuxt-i18n](https://github.com/nuxt-community/nuxt-i18n). If you set the `i18n` top-level key in `nuxt.press.json` with `locales` and `messages`, these are used to populate [VueI18n](https://kazupon.github.io/vue-i18n/).

```js
"i18n": {
  "locales": [
    {
      "code": "en",
      "name": "English"
    },
    {
      "code": "pt-BR",
      "name": "Português (BR)"
    }
  ]
}
```

NuxtPress will then load content from directories named after each locale.

Internally, `$press.locale` and `$press.locales` are exposed. The language select box on NuxtPress' landing page is rendered with the following:

```html
<div class="lang-select">
  <select
    v-if="$press.locales"
    v-model="lang"
    @change="(e) => $router.push(`/${e.target.value}/`)">
    <option
      v-for="locale in $press.locales"
      :key='`locale-${locale.code}`'
      :value="locale.code">{{ locale.name }}</option>
  </select>
</div>
```

See the full configuration for this documentation suite [here][docs-config].

[docs-config]: https://github.com/nuxt/press/blob/master/docs/nuxt.press.json

### Navbar

Currently the NuxtPress navbar only supports a links section. E.g. the links you see on the top right corner of this page are added via NuxtPress configuration. Use the `docs.nav` configuration key, as follows:

NuxtPress does not (yet) support dropdown menus.

```json
{
  "docs": {
    "nav": [
      {
        "text": "Home",
        "link": "/"
      },
      {
        "text": "Internals",
        "link": "/internals"
      },
      {
        "text": "GitHub",
        "link": "https://github.com/nuxt/press"
      }
    ]
  }
}
```

You can also use a shorthand syntax as follows:

```json
{
  "docs": {
    "nav": [
      {"Home": "/"},
      {"Internals": "/internals"},
      {"GitHub": "https://github.com/nuxt/press"}
    ]
  }
}
```

### Sidebar

The docs bundled app also includes a sidebar component that can automatically scroll topics into view when you click them, and highlights which topic is currently into view. A basic sidebar expects an Array of paths to your markdown files:

```
{
  "docs": {
    "sidebar": [
      "/",
      "/guide",
      "/customize"
    ]
  }
}
```

You can omit the `.md` extension. When the sidebar config includes paths ending with `/`, we try to match `*/readme.md` or `*/index.md` instead (case insensitive).

The title for the link in the sidebar is automatically extracted from the markdown file, either from the first header in the page or the explicit title set in YAML meta data.

#### Specifying a custom title

The page title is normally also used within the sidebar. If you wish to list your page in the sidebar with a different title, add an array with the link as first item and your new title as second item:

```
{
  "docs": {
    "sidebar": [
      "/",
      ["/guide", "For Hitchhiker's only"],
      ["/customize", "Customise the app"]
    ]
  }
}
```

#### Pattern matching for paths

You can also use glob's and regexes to match the files to include in the sidebar:

```
{
  "docs": {
    "sidebar": [
      "/",
      "/guide-*",
      "/customize-(it|this)"
    ]
  }
}
```

The above will match any markdown file starting with `guide-` and the files `customize-it` and `customize-this` but not `customize-that`

#### External links

If you provide a link which cannot be resolved to a file, these links will be removed and wont show unless you specify a custom title

```
{
  "docs": {
    "prefix": "/docs",
    "sidebar": [
      "/",
      "/guide",
      ["/contact", "Contact us"]
    ]
  }
}
```

will result in a sidebar with links: `/docs/`, `/docs/guide/` and `/contact/`


#### Nested Header Links

The sidebar automatically displays links for headers in the current active page, nested under the link for the page itself. You can customize this behavior using `docs.sidebarDepth`. The default depth is 1, which extracts the h2 headers. Setting it to 0 disables the header links, and the max value is 2 which extracts both h2 and h3 headers.

A page can also override this value via YAML front matter:

```yaml
---
sidebarDepth: 2
---
```

#### Skipping Headers

If you wish to omit some headers of your markdown from the sidebar, you can set the meta options `sidebarSkipLevels` and `sidebarSkipCount` to do so.

Use `sidebarSkipLevels` to specifiy which header levels you want to skip, and `sidebarSkipCount` how many headers in total you want to skip. Omitting `sidebarSkipCount` or setting it to 0 means all headers will be skipped.

A markdown file with the following contents
```markdown
---
sidebarSkipLevels: [2, 3]
sidebarSkipCount: 2
---

<h1>Header 1</h1>

<h2>Header 2.1</h1>

<h3>Header 3.1</h1>

<h2>Header 2.2</h1>
```

will only have `Header 1` and `Header 2.2` listed in the sidebar.

#### Sidebar Groups

You can divide sidebar links into multiple groups by using objects:

```json
{
  "docs": {
    "sidebar": [
      {
        "title": "Group 1",
        "children": [
          "/"
        ]
      },
      {
        "title": "Group 2",
        "children": [ /* ... */ ]
      }
    ]
  }
}
```

#### Multiple Sidebars

If you wish to display different sidebars for different sections of content, first organize your pages into directories for each desired section:

```
.
├─ README.md
├─ contact.md
├─ about.md
├─ foo/
│  ├─ README.md
│  ├─ one.md
│  └─ two.md
└─ bar/
   ├─ README.md
   ├─ three.md
   └─ four.md
```

Then, update your configuration to define your sidebar for each section.

```json
{
  "docs": {
    "sidebar": {
      "/": [
        "",        /* / */
        "contact", /* /contact.html */
        "about"    /* /about.html */
      ],

      "/foo/": [
        "",     /* /foo/ */
        "one",  /* /foo/one.html */
        "two"   /* /foo/two.html */
      ],

      "/bar/": [
        "",      /* /bar/ */
        "three", /* /bar/three.html */
        "four"   /* /bar/four.html */
      ]
    }
  }
}
```

#### Single Page Auto Sidebar

If you wish to automatically generate a sidebar that contains only the header links for the current page, you can use YAML meta data for that page:

```yaml
---
sidebar: auto
---
```

#### Localization





## Publishing slides

Add your markdown files to the `slides` directory.

One markdown file = one full presentation.

NuxtPress will parse each slide from Markdown using `#` as the delimiter. If text follows `#`, it's appended as a `<h1>` tag. If not, it's simply used as the delimiter and no `<h1>` tag is added.

The following example represents four slides. It is a single file, but here it is shown divided in sections to illustrate the processing.

```md

My Presentation
(opener, slide 1)

```
```md
# Slide 2 header

Slide 2 text

```
```md
#

Slide 3 text
(slide with no header)

```
```md
# Slide 4 header

Slide 4 text

```

This is a simplification from [MDX][mdx], which uses `---` as delimiter.

[mdx]: https://mdxjs.com/

### Convenience classes

NuxtPress adds classes to slides to make styling easier.

```css
.slides-<fileName> .slide-<slideNumber> {
  ...
}
```

Use the above CSS selector pattern to style the entire presentation or any specific slide. You can also inline `<style>` tags with such selectors in the slides Markdown source. Take a `slides/hello.md` file, for example:

```
# Presentation

<style>
.slides-hello .slide-1 h1 {
  font-size: 2rem;
}
</style>
```

This would modify the styles for the first slide.

<iframe src="https://codesandbox.io/embed/codesandbox-nuxt-gucji?fontsize=14" title="codesandbox-nuxt" allow="geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media; usb" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>
